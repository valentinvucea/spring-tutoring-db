<!doctype html>
<html th:replace="~{fragments/layout :: layout(~{::title}, ~{}, ~{}, ~{::main})}">
    <head>
        <title th:text="|Edit Student #${student.id}|"></title>
    </head>     
    <body>
        <main role="main">
            <div class="container mt-3">
                <h3>Students</h3>
                <hr>                
                <h4 class="mb-4" th:text="|Edit Student #${student.id}|"></h4>
                
                <div class="row">
                    <div class="col-4">
                        <form action="#" th:action="@{/students/edit/{id}(id=${student.id})}" th:object="${student}" method="post">
                            <div class="mb-3">
                                <label for="name" class="form-label">First Name</label>
                                <input type="text" th:field="*{firstName}" class="form-control" id="firstName" aria-describedby="firstName">
                                <span th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}"></span>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Last Name</label>
                                <input type="text" th:field="*{lastName}" class="form-control" id="lastName" aria-describedby="lastName">
                                <span th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}"></span>
                            </div>                            
                            <div class="mb-3">
                                <label for="name" class="form-label">Grade</label>
                                <select class="form-select" th:field="*{grade}" aria-label="Grade dropdown">
                                    <option selected value="0">Select an option</option>
                                    <option 
                                        th:each="grade : ${grades}" 
                                        th:value="${grade.id}" 
                                        th:text="${grade.name}">
                                    </option>
                                </select>                               
                                <span th:if="${#fields.hasErrors('grade')}" th:errors="*{grade}"></span>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Email</label>
                                <input type="text" th:field="*{email}" class="form-control" id="email" aria-describedby="email">
                                <span th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></span>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Phone</label>
                                <input type="text" th:field="*{phone}" class="form-control" id="phone" aria-describedby="phone">
                                <span th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}"></span>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Parent Name</label>
                                <input type="text" th:field="*{parentName}" class="form-control" id="parentName" aria-describedby="parentName">
                                <span th:if="${#fields.hasErrors('parentName')}" th:errors="*{parentName}"></span>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Parent Email</label>
                                <input type="text" th:field="*{parentEmail}" class="form-control" id="parentEmail" aria-describedby="parentEmail">
                                <span th:if="${#fields.hasErrors('parentEmail')}" th:errors="*{parentEmail}"></span>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Parent Phone</label>
                                <input type="text" th:field="*{parentPhone}" class="form-control" id="parentPhone" aria-describedby="parentPhone">
                                <span th:if="${#fields.hasErrors('parentPhone')}" th:errors="*{parentPhone}"></span>
                            </div>                                                                                                       
                            <div class="mb-3">
                                <input class="form-check-input" type="checkbox" value="1" id="active" th:field="*{active}">
                                <label class="form-check-label" for="active">
                                    Active
                                </label>                           
                                <span th:if="${#fields.hasErrors('active')}" th:errors="*{active}"></span>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Comments</label>
                                <textarea th:field="*{comments}" rows="5" class="form-control" id="comments" aria-describedby="comments"></textarea>
                                <span th:if="${#fields.hasErrors('comments')}" th:errors="*{comments}"></span>
                            </div>                                                        
                                                       
                            <button type="submit" class="btn btn-primary">Submit</button>
                            <a th:href="|/students/|" role="button" class="btn btn-secondary">Back to List</a>                            
                        </form>                        
                    </div>
                </div>
            </div>
        </main>
    </body>
</html>
