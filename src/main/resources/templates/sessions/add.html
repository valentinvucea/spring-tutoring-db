<!doctype html>
<html th:replace="~{fragments/layout :: layout(~{::title}, ~{}, ~{}, ~{::main})}">
    <head>
        <title>Sessions | Add New Session</title>
    </head>     
    <body>
        <main role="main">
            <div class="container mt-3">
                <h3>Sessions</h3>
                <hr>                
                <h4 class="mb-4">Add New Sessions</h4>
                
                <div class="row">
                    <div class="col-4">
                        <form action="#" th:action="@{/sessions/add}" th:object="${session}" method="post">
                            <div class="mb-3">
                                <label for="name" class="form-label">Date</label>
                                <input type="date" th:value="${sessionDate}" th:field="*{sessionDate}" class="form-control" aria-describedby="sessionDate" min="2020-01-01">
                                <span class="validation-error" th:if="${#fields.hasErrors('sessionDate')}" th:errors="*{sessionDate}"></span>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Student</label>
                                <select class="form-select" th:field="*{student}" aria-label="Student dropdown">
                                    <option selected value="0">Select an option</option>
                                    <option 
                                        th:each="student : ${students}" 
                                        th:value="${student.id}" 
                                        th:text="${student.getFullName()}">
                                    </option>
                                </select>                               
                                <span class="validation-error" th:if="${#fields.hasErrors('student')}" th:errors="*{student}"></span>
                            </div>                            
                            <div class="mb-3">
                                <label for="name" class="form-label">Subject</label>
                                <select class="form-select" th:field="*{subject}" aria-label="Subject dropdown">
                                    <option selected value="0">Select an option</option>
                                    <option 
                                        th:each="subject : ${subjects}" 
                                        th:value="${subject.id}" 
                                        th:text="${subject.name}">
                                    </option>
                                </select>                               
                                <span class="validation-error" th:if="${#fields.hasErrors('subject')}" th:errors="*{subject}"></span>
                            </div>
                            <div class="mb-3">
                                <div class="row">
                                    <div class="col-6">
                                        <label for="name" class="form-label">Hours</label>
                                        <input type="number" th:field="*{durationHours}" class="form-control" id="durationHours">
                                        <span class="validation-error" th:if="${#fields.hasErrors('durationHours')}" th:errors="*{durationHours}"></span>        
                                    </div>
                                    <div class="col-6">
                                        <label for="name" class="form-label">Minutes</label>
                                        <input type="number" th:field="*{durationMinutes}" class="form-control" id="durationMinutes">
                                        <span class="validation-error" th:if="${#fields.hasErrors('durationMinutes')}" th:errors="*{durationMinutes}"></span>        
                                    </div>                                    
                                </div>
                            </div>                            
                            <div class="mb-3">
                                <label for="name" class="form-label">Lesson</label>
                                <textarea th:field="*{lesson}" rows="5" class="form-control" id="lesson" aria-describedby="lesson"></textarea>
                                <span class="validation-error" th:if="${#fields.hasErrors('lesson')}" th:errors="*{lesson}"></span>
                            </div>                                                        
                                                       
                            <button type="submit" class="btn btn-primary">Submit</button>
                            <a th:href="|/sessions/|" role="button" class="btn btn-secondary">Back to List</a>                            
                        </form>                        
                    </div>
                </div>
            </div>
        </main>
    </body>
</html>
